"use strict";(self.webpackChunkshopdot=self.webpackChunkshopdot||[]).push([[5752],{4183:function(e,r,n){n(2791);r.Z=n.p+"static/media/icon-edit.66db4866fc239f5ff3f3b6abbb739e70.svg"},7489:function(e,r,n){n.d(r,{$c:function(){return l},Rz:function(){return h},kT:function(){return p},ru:function(){return d},uz:function(){return u}});var a=n(4165),s=n(5861),t=n(9731),o=n(9085),i=n(5548),c=n(5821);function l(e,r,n){return function(){var l=(0,s.Z)((0,a.Z)().mark((function s(l){var u;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.Z.post(i.N1,e);case 3:(u=a.sent)&&u.data&&201==u.data.code?(l((0,c.Ju)()),"brand"===e.role?l(d({user_id:e.user_id,platform:n},r)):r("/retailer-onboarding")):o.Am.error("Something went worng"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),o.Am.error(a.t0&&a.t0.response&&a.t0.response.data&&a.t0.response.data.errors?a.t0.response.data.errors:"Something went worng");case 10:case"end":return a.stop()}}),s,null,[[0,7]])})));return function(e){return l.apply(this,arguments)}}()}function d(e,r){return function(){var n=(0,s.Z)((0,a.Z)().mark((function n(s){var c;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.Z.post(i.Wd,e);case 3:(c=n.sent)&&c.data&&201==c.data.code?r("/brand-onboarding"):r("/personalized-not-supported",{state:e.platform}),n.next=11;break;case 7:throw n.prev=7,n.t0=n.catch(0),o.Am.error(n.t0&&n.t0.response&&n.t0.response.data&&n.t0.response.data.errors?n.t0.response.data.errors:"Something went worng"),n.t0;case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}function u(e){return m.apply(this,arguments)}function m(){return(m=(0,s.Z)((0,a.Z)().mark((function e(r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.Z.post(i.NR,r,{headers:{"content-type":"multipart/form-data"}});case 3:if(!(n=e.sent)||!n.data||200!=n.data.code){e.next=8;break}return e.abrupt("return",n.data.data);case 8:o.Am.error("Something went worng");case 9:return e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(0),o.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng"),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function p(e){return function(){var r=(0,s.Z)((0,a.Z)().mark((function r(n){var s;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.Z.post(i.qq,e);case 3:return(s=r.sent)&&s.data&&201==s.data.code?(o.Am.success("Notification Updated"),n(h(e.brand_id))):o.Am.error("Something went worng"),r.abrupt("return",s);case 8:throw r.prev=8,r.t0=r.catch(0),o.Am.error(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?r.t0.response.data.errors:"Something went worng"),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}function h(e){return function(){var r=(0,s.Z)((0,a.Z)().mark((function r(n){var s;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.Z.get("".concat(i.qq,"/").concat(e,"/"));case 3:return(s=r.sent)&&s.data&&200==s.data.code&&s.data.data&&n((0,c.pT)(s.data.data)),r.abrupt("return",s);case 8:throw r.prev=8,r.t0=r.catch(0),o.Am.error(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?r.t0.response.data.errors:"Something went worng"),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}},3516:function(e,r,n){n.r(r),n.d(r,{default:function(){return N}});var a=n(1413),s=n(4165),t=n(5861),o=n(9439),i=n(2791),c=n(1134),l=n(4695),d=n(2089),u=n(4183),m=n.p+"static/media/profile-avatar.261dfdda4addff8f0f82.jpg",p=n(9434),h=n(7423),f=n(7489),v=n(9290),x=n(4933),b=n(763),j=n(9085),_=n(184);function N(){var e,r,n,N,g,y,w,k,Z,S=(0,i.useState)(m),q=(0,o.Z)(S,2),C=q[0],A=q[1],V=(0,c.cI)({mode:"onChange",resolver:(0,l.X)(d.Gq)}),B=V.register,I=V.handleSubmit,U=V.reset,E=(V.setValue,V.formState.errors),P=(0,p.I0)(),T=(0,p.v9)(v.uy),z=(0,p.v9)(x.Rp),R=(0,p.v9)(x.ZL),D=(0,p.v9)(x.Sn),G=(0,i.useState)([]),J=(0,o.Z)(G,2),M=J[0],O=J[1],Y=(0,i.useState)([]),F=(0,o.Z)(Y,2),X=F[0],K=F[1],L=(0,i.useState)(!1),W=(0,o.Z)(L,2),$=W[0],H=W[1];(0,i.useEffect)((function(){setTimeout((function(){P((0,h.vR)()),P((0,h.Yy)()),P((0,h.mo)(T.id))}),350)}),[]);var Q=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(r){var n,a,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r||void 0===r||null===(n=r.brand_profile)||void 0===n||!n.id){e.next=12;break}if(a=[],t=[],!r.brand_categories||!r.brand_categories.length){e.next=6;break}return e.next=6,(0,b.map)(r.brand_categories,(function(e,r){a.push(e.id)}));case 6:if(!r.brand_values||!r.brand_values.length){e.next=9;break}return e.next=9,(0,b.map)(r.brand_values,(function(e,r){t.push(e.id)}));case 9:A(r.brand_profile.store_logo||m),U({brand_values:t,brand_categories:a,company_name:r.brand_profile.company_name,company_email_address:r.brand_profile.company_email_address,company_phone_number:r.brand_profile.company_phone_number,store_name:r.brand_profile.store_name,store_website:r.brand_profile.store_website,brand_story:r.brand_profile.brand_story,brand_promo:r.brand_profile.brand_promo}),setTimeout((function(){O(a),K(t)}),100);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){D.brand_profile&&D.brand_profile.id&&Q(D)}),[D]);var ee=function(e,r){var n=JSON.parse(e),a="category"===r?M:X,s=(0,b.cloneDeep)(a);s.includes(n)?(0,b.remove)(s,(function(e,r){return e===n})):s.push(n),"category"===r?O(s):"value"===r&&K(s)};return(0,_.jsxs)("div",{className:"pc_tabs-content tabs_body",children:[(0,_.jsx)("div",{className:"tab active","data-target":"Account",children:(0,_.jsxs)("div",{className:"products_content",children:[(0,_.jsxs)("div",{className:"products_head mp-head head-with-subtitle",children:[(0,_.jsx)("div",{className:"products_head-content",children:(0,_.jsx)("div",{className:"title",children:(0,_.jsx)("h1",{children:"Brand Profile"})})}),(0,_.jsx)("p",{children:"Information entered on this page will be visible to retailers within ShopDot."})]}),(0,_.jsx)("div",{className:"products_body",children:(0,_.jsx)("div",{className:"content_area",children:(0,_.jsx)("div",{id:"account",children:(0,_.jsxs)("form",{onSubmit:I((function(e){P((0,h.fE)((0,a.Z)({user_id:T.id,role_id:1,store_logo:C,profile_picture:C},e),null===D||void 0===D?void 0:D.id))})),children:[(0,_.jsxs)("div",{className:"account_info",children:[(0,_.jsx)("h2",{children:"Contact Information "}),(0,_.jsxs)("div",{className:"form-area",children:[(0,_.jsxs)("div",{className:"form-input tooltip-input mb-4",children:[(0,_.jsxs)("label",{className:"form-label",children:["Company name ",(0,_.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,_.jsx)("input",(0,a.Z)({type:"text",className:"form-control mb-0",name:"company_name",id:"",placeholder:""},B("company_name",{required:!0}))),(null===E||void 0===E?void 0:E.company_name)&&(0,_.jsx)("span",{className:"error-text",children:null===E||void 0===E||null===(e=E.company_name)||void 0===e?void 0:e.message})]}),(0,_.jsxs)("div",{className:"form-input tooltip-input mb-4",children:[(0,_.jsxs)("label",{className:"form-label",children:["Contact email ",(0,_.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,_.jsx)("input",(0,a.Z)({type:"text",className:"form-control mb-0",name:"company_email_address",id:"",placeholder:""},B("company_email_address",{required:!0}))),(null===E||void 0===E?void 0:E.company_email_address)&&(0,_.jsx)("span",{className:"error-text",children:null===E||void 0===E||null===(r=E.company_email_address)||void 0===r?void 0:r.message})]}),(0,_.jsxs)("div",{className:"form-input tooltip-input mb-4",children:[(0,_.jsxs)("label",{className:"form-label",children:["Contact phone number"," ",(0,_.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,_.jsx)("input",(0,a.Z)({type:"number",className:"form-control mb-0",id:"",name:"company_phone_number",placeholder:""},B("company_phone_number",{required:!0}))),(null===E||void 0===E?void 0:E.company_phone_number)&&(0,_.jsx)("span",{className:"error-text",children:null===E||void 0===E||null===(n=E.company_phone_number)||void 0===n?void 0:n.message})]})]})]}),(0,_.jsxs)("div",{className:"my_store",children:[(0,_.jsx)("h2",{children:"Brand Information "}),(0,_.jsxs)("div",{className:"form-area",children:[(0,_.jsxs)("div",{className:"form-input form-upload-image",children:[(0,_.jsx)("a",{href:"#",className:"upload-logo",children:(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{className:"d-none",id:"",type:"file",onChange:function(e){if(!$){H(!0);var r=new FormData;r.append("file",e.target.files[0]),P((0,f.uz)(r).then((function(e){A(e.url)})).finally((function(){H(!1)})))}}}),(0,_.jsx)("img",{src:u.Z,className:"icon"}),(0,_.jsx)("div",{className:"profile-user-avtar",children:(0,_.jsx)("img",{src:C})})]})}),(0,_.jsxs)("label",{children:["Upload logo",(0,_.jsx)("span",{className:"asterisk-red",children:" *"}),(0,_.jsxs)("a",{href:"#",className:"remove-logo",onClick:function(){$||A(m)},children:["Remove logo"," "]}),(0,_.jsxs)("span",{className:"logo-instruction",children:["Format Type:",(0,_.jsx)("b",{children:"JPEG or PNG"}),". Maximum size is ",(0,_.jsx)("b",{children:"5MB"}),", No less than ",(0,_.jsx)("b",{children:"512 x 512"})," pixels and no more than"," ",(0,_.jsx)("b",{children:"1024 x 1024"})," pixels."]})]})]}),(0,_.jsxs)("div",{className:"form-input mb-4",children:[(0,_.jsxs)("label",{className:"form-label",children:["Brand name ",(0,_.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,_.jsx)("input",(0,a.Z)({type:"text",className:"form-control mb-0",name:"store_name",id:"",placeholder:""},B("store_name",{required:!0}))),(null===E||void 0===E?void 0:E.store_name)&&(0,_.jsx)("span",{className:"error-text",children:null===E||void 0===E||null===(N=E.store_name)||void 0===N?void 0:N.message})]}),(0,_.jsxs)("div",{className:"form-input tooltip-input mb-4",children:[(0,_.jsxs)("label",{className:"form-label",children:["Brand website",(0,_.jsx)("span",{className:"asterisk-red",children:"*"}),(0,_.jsxs)("div",{className:"tooltip",children:[(0,_.jsx)("div",{className:"tooltip-icon",children:(0,_.jsx)("svg",{className:"icon"})}),(0,_.jsx)("div",{className:"tooltip_text",children:(0,_.jsx)("p",{children:"This is your store that is connected with ShopDot. You can connect a different store in the Integration section."})})]})]}),(0,_.jsx)("input",(0,a.Z)({type:"text",className:"form-control mb-0",name:"store_website",placeholder:"janebeautyparlor.com"},B("store_website",{required:!0}))),(null===E||void 0===E?void 0:E.store_website)&&(0,_.jsx)("span",{className:"error-text",children:null===E||void 0===E||null===(g=E.store_website)||void 0===g?void 0:g.message})]}),(0,_.jsxs)("div",{className:"form-input form-checkbox mb-4",children:[(0,_.jsxs)("label",{className:"form-label",children:["Brand category (Select up to three)"," ",(0,_.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,_.jsx)("div",{className:"select-checkbox",children:z&&z.length?z.map((function(e,r){return(0,_.jsx)("div",{className:"check-item",children:(0,_.jsxs)("label",{className:"checkbox",children:[(0,_.jsx)("input",(0,a.Z)({type:"checkbox",name:"brand_categories",checked:M.includes(e.id),value:e.id},B("brand_categories",{onChange:function(e){ee(e.target.value,"category")}}))),(0,_.jsx)("div",{className:"checkbox-text",children:(0,_.jsx)("span",{children:e.name})})]})},r)})):(0,_.jsx)("div",{})}),(null===E||void 0===E?void 0:E.brand_categories)&&(0,_.jsx)("span",{className:"error-text",children:null===E||void 0===E||null===(y=E.brand_categories)||void 0===y?void 0:y.message})]}),(0,_.jsxs)("div",{className:"form-input form-checkbox mb-4",children:[(0,_.jsx)("label",{className:"form-label",children:"Brand values"}),(0,_.jsxs)("div",{className:"select-checkbox third-col",children:[(0,_.jsx)("div",{className:"select-checkbox",children:R&&R.length?R.map((function(e,r){return(0,_.jsx)("div",{className:"check-item",children:(0,_.jsxs)("label",{className:"checkbox",children:[(0,_.jsx)("input",(0,a.Z)({type:"checkbox",name:"brand_values",checked:X.includes(e.id),value:e.id},B("brand_values",{required:!1,onChange:function(e){ee(e.target.value,"value")}}))),(0,_.jsx)("div",{className:"checkbox-text",children:(0,_.jsx)("span",{children:e.name})})]})},r)})):(0,_.jsx)("div",{})}),(null===E||void 0===E?void 0:E.brand_values)&&(0,_.jsx)("span",{className:"error-text",children:null===E||void 0===E||null===(w=E.brand_values)||void 0===w?void 0:w.message})]})]}),(0,_.jsxs)("div",{className:"form-input form-story mb-4",children:[(0,_.jsxs)("label",{className:"form-label",children:["About the brand"," ",(0,_.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,_.jsx)("textarea",(0,a.Z)({id:"",rows:"8",required:"",className:"text-area   ",name:"brand_story",placeholder:""},B("brand_story",{required:!0}))),(null===E||void 0===E?void 0:E.brand_story)&&(0,_.jsx)("span",{className:"error-text",children:null===E||void 0===E||null===(k=E.brand_story)||void 0===k?void 0:k.message})]}),(0,_.jsxs)("div",{className:"form-input mb-4",children:[(0,_.jsx)("label",{className:"form-label",children:"Add a Youtube or Vimeo video link."}),(0,_.jsx)("input",(0,a.Z)({type:"text",className:"form-control mb-0",name:"brand_promo",id:"",placeholder:""},B("brand_promo",{required:!0}))),(null===E||void 0===E?void 0:E.brand_promo)&&(0,_.jsx)("span",{className:"error-text",children:null===E||void 0===E||null===(Z=E.brand_promo)||void 0===Z?void 0:Z.message})]}),(0,_.jsxs)("div",{className:"form-input form-submit",children:[(0,_.jsx)("button",{onClick:function(){return U()},className:"button button-grey cancel",children:"Cancel"}),(0,_.jsx)("button",{type:"submit",className:"button",children:"Save"})]})]})]})]})})})})]})}),(0,_.jsx)(j.Ix,{})]})}},4695:function(e,r,n){n.d(r,{X:function(){return i}});var a=n(1134),s=function(e,r,n){if(e&&"reportValidity"in e){var s=(0,a.U2)(n,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},t=function(e,r){var n=function(n){var a=r.fields[n];a&&a.ref&&"reportValidity"in a.ref?s(a.ref,n,e):a.refs&&a.refs.forEach((function(r){return s(r,n,e)}))};for(var a in r.fields)n(a)},o=function(e,r){r.shouldUseNativeValidation&&t(e,r);var n={};for(var s in e){var o=(0,a.U2)(r.fields,s);(0,a.t8)(n,s,Object.assign(e[s],{ref:o&&o.ref}))}return n},i=function(e,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),function(i,c,l){try{return Promise.resolve(function(a,o){try{var d=(r.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](i,Object.assign({abortEarly:!1},r,{context:c}))).then((function(e){return l.shouldUseNativeValidation&&t({},l),{values:n.rawValues?i:e,errors:{}}})))}catch(s){return o(s)}return d&&d.then?d.then(void 0,o):d}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:o((r=e,n=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,(r.inner||[]).reduce((function(e,r){if(e[r.path]||(e[r.path]={message:r.message,type:r.type}),n){var s=e[r.path].types,t=s&&s[r.type];e[r.path]=(0,a.KN)(r.path,n,e,r.type,t?[].concat(t,r.message):r.message)}return e}),{})),l)};var r,n})))}catch(s){return Promise.reject(s)}}}}}]);
//# sourceMappingURL=5752.eebe12e0.chunk.js.map
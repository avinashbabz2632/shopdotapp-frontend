"use strict";(self.webpackChunkshopdot=self.webpackChunkshopdot||[]).push([[2270],{16853:function(e,t,r){r(72791);t.Z=r.p+"static/media/icon-danger.28094f2865deb040842b447fe9b0144a.svg"},69160:function(e,t,r){r(72791);t.Z=r.p+"static/media/icon-info-red.a6ae908a21e4fa18331dada2321e25a2.svg"},40159:function(e,t,r){r.d(t,{$j:function(){return P},Cc:function(){return w},Ek:function(){return S},FQ:function(){return x},Fp:function(){return b},GA:function(){return p},Gi:function(){return u},O8:function(){return v},OR:function(){return h},Q$:function(){return Z},Sq:function(){return m},a:function(){return f},rU:function(){return g}});var n=r(74165),a=r(15861),s=r(89731),i=r(5548),c=(r(13541),r(5821),r(40980)),o=r(9085),d=r(89353),l=r.n(d);function u(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a,d;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.post(i.ZS,e);case 3:(a=t.sent)&&a.data&&200==a.data.code?r((0,c.WH)(null===(d=a.data)||void 0===d?void 0:d.data)):o.Am.error("Something went worng"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),o.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors&&t.t0.response.data.errors.length&&t.t0.response.data.errors[0]&&t.t0.response.data.errors[0].password?t.t0.response.data.errors[0].password:t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function p(){return function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(i.Pm));case 3:return(r=e.sent)&&r.data&&200==r.data.code&&r.data.data&&t((0,c.TO)(r.data.data)),e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),o.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng"),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function m(e,t){return function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a){var d;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.get("".concat(i.Zy(t)));case 3:return(d=r.sent)&&d.data&&200==d.data.code&&d.data.data&&("category"===e?a((0,c.v2)(d.data.data)):"subcategory"===e?a((0,c.FA)(d.data.data)):"group"===e&&a((0,c.gT)(d.data.data))),r.abrupt("return",d);case 8:throw r.prev=8,r.t0=r.catch(0),o.Am.error(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?r.t0.response.data.errors:"Something went worng"),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}function v(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r((0,c.fN)()),t.next=4,s.Z.get("".concat(i.NC),{params:e});case 4:(a=t.sent)&&a.data&&200==a.data.code&&(r((0,c.kt)()),o.Am.success("Product Synced Successfully")),t.next=13;break;case 8:throw t.prev=8,t.t0=t.catch(0),r((0,c.t5)(t.t0)),o.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng"),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function h(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.post("".concat(i.ry),e,{responseType:"blob"});case 3:(a=t.sent)&&200==a.status&&l()(a.data,"".concat(Date.now(),".xlsx")),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),o.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function f(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a,c;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(a=new FormData).append("file",e),t.next=5,s.Z.post("".concat(i.wG),a);case 5:(c=t.sent)&&c.data&&200==c.data.code&&o.Am.success("File uploaded successfully"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),o.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}function x(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.get("".concat(i.OH(e)));case 3:return(a=t.sent)&&a.data&&200==a.data.code&&a.data.data&&r((0,c.AB)(a.data.data)),t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),o.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function g(e){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(i.OH(t)));case 3:if(!(r=e.sent)||!r.data||200!=r.data.code){e.next=8;break}return e.abrupt("return",{isSuccess:!0,data:r.data.data});case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),o.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function b(e,t){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t,status:r},e.prev=1,e.next=4,s.Z.put("".concat(i.Yv),a);case 4:if(!(c=e.sent)||!c.data||200!=c.data.code){e.next=9;break}return e.abrupt("return",{isSuccess:!0,response:c.data});case 9:return e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(1),o.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.put("".concat(i.UG),t);case 3:if(!(r=e.sent)||!r.data||200!=r.data.code){e.next=8;break}return e.abrupt("return",{isSuccess:!0,response:r.data});case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),o.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Z(e){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.put("".concat(i.fe),t);case 3:if(!(r=e.sent)||!r.data||200!=r.data.code){e.next=8;break}return e.abrupt("return",{isSuccess:!0,response:r.data});case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),o.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function S(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.put("".concat(i.Vt),t);case 3:if(!(r=e.sent)||!r.data||200!=r.data.code){e.next=8;break}return e.abrupt("return",{isSuccess:!0,response:r.data});case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),o.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function P(e,t){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.patch("".concat(i.oe(r)),t);case 3:if(!(a=e.sent)||!a.data||200!=a.data.code){e.next=8;break}return e.abrupt("return",{isSuccess:!0});case 8:return e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(0),o.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}},17489:function(e,t,r){r.d(t,{$c:function(){return d},Rz:function(){return v},kT:function(){return m},ru:function(){return l},uz:function(){return u}});var n=r(74165),a=r(15861),s=r(89731),i=r(9085),c=r(5548),o=r(5821);function d(e,t,r){return function(){var d=(0,a.Z)((0,n.Z)().mark((function a(d){var u;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.post(c.N1,e);case 3:(u=n.sent)&&u.data&&201==u.data.code?(d((0,o.Ju)()),"brand"===e.role?d(l({user_id:e.user_id,platform:r},t)):t("/retailer-onboarding")):i.Am.error("Something went worng"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),i.Am.error(n.t0&&n.t0.response&&n.t0.response.data&&n.t0.response.data.errors?n.t0.response.data.errors:"Something went worng");case 10:case"end":return n.stop()}}),a,null,[[0,7]])})));return function(e){return d.apply(this,arguments)}}()}function l(e,t){return function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a){var o;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.Z.post(c.Wd,e);case 3:(o=r.sent)&&o.data&&201==o.data.code?t("/brand-onboarding"):t("/personalized-not-supported",{state:e.platform}),r.next=11;break;case 7:throw r.prev=7,r.t0=r.catch(0),i.Am.error(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?r.t0.response.data.errors:"Something went worng"),r.t0;case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}function u(e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post(c.NR,t,{headers:{"content-type":"multipart/form-data"}});case 3:if(!(r=e.sent)||!r.data||200!=r.data.code){e.next=8;break}return e.abrupt("return",r.data.data);case 8:i.Am.error("Something went worng");case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),i.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function m(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.post(c.qq,e);case 3:return(a=t.sent)&&a.data&&200==a.data.code?(i.Am.success(null===(o=a.data)||void 0===o?void 0:o.message),r(v(e.brand_id))):i.Am.error("Something went worng"),t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(0),i.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng"),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function v(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.get("".concat(c.qq,"/").concat(e,"/"));case 3:return(a=t.sent)&&a.data&&200==a.data.code&&a.data.data&&r((0,o.pT)(a.data.data)),t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(0),i.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng"),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},82270:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var n=r(93433),a=r(74165),s=r(15861),i=r(1413),c=r(29439),o=r(72791),d=r(57689),l=r(11087),u=(r(17107),r(18882),r(2299),r(22114)),p=r(20382);var m=r.p+"static/media/add-image-icon.58b5e6adc5badcae1000472a6ea89603.svg",v=r(26632),h=r(16853);var f=r.p+"static/media/save.45dae0708e9d2a53fc716f43eb46ddd8.svg",x=r(42628),g=r.n(x);var j=r.p+"static/media/button.992d42399c57bb5a3dd3380a67364e62.svg",b=r(69160),N=r(61134),w=r(59434),y=r(40159),Z=r(11100),k=r(32151),S=r(62797),_=r(44695),P=(r(7423),r(9290)),C=r(9085),D=r(84933),A=r(17489),F=r(763),T=r(40980),E=r(80184),q=S.Ry().shape({productName:S.Z_().required("Product name is required.")});function I(){var e,t,r,x,S,I,O,B,U,R,G,M=(0,d.UO)(),W=(0,w.I0)(),L=(0,w.v9)(k.pI),z=((0,w.v9)(k.NH),(0,w.v9)(k.Sc),(0,w.v9)(k.JL)),H=(0,w.v9)(k.Jd),J=(0,w.v9)(k.NT),K=(0,w.v9)(P.uy),V=(0,w.v9)(k.dG),Y=L,$=(0,d.s0)(),Q=(0,o.useState)([]),X=(0,c.Z)(Q,2),ee=X[0],te=X[1],re=(0,o.useState)(0),ne=(0,c.Z)(re,2),ae=ne[0],se=ne[1],ie=(0,o.useState)(null),ce=(0,c.Z)(ie,2),oe=ce[0],de=ce[1],le=(0,o.useState)([]),ue=(0,c.Z)(le,2),pe=ue[0],me=ue[1],ve=(0,o.useState)(null),he=(0,c.Z)(ve,2),fe=(he[0],he[1],(0,o.useState)("")),xe=(0,c.Z)(fe,2),ge=xe[0],je=xe[1],be=(0,o.useState)(""),Ne=(0,c.Z)(be,2),we=Ne[0],ye=Ne[1],Ze=(0,o.useState)(null===Y||void 0===Y||null===(e=Y.productDetails)||void 0===e?void 0:e.product_variants),ke=(0,c.Z)(Ze,2),Se=ke[0],_e=ke[1],Pe=(0,o.useState)(""),Ce=(0,c.Z)(Pe,2),De=Ce[0],Ae=Ce[1],Fe=(0,o.useState)(""),Te=(0,c.Z)(Fe,2),Ee=Te[0],qe=Te[1],Ie=(0,o.useState)(""),Oe=(0,c.Z)(Ie,2),Be=Oe[0],Ue=Oe[1],Re=(0,o.useState)(!1),Ge=(0,c.Z)(Re,2),Me=Ge[0],We=Ge[1],Le=(0,o.useState)(!1),ze=(0,c.Z)(Le,2),He=ze[0],Je=ze[1],Ke=(0,o.useState)(null),Ve=(0,c.Z)(Ke,2),Ye=(Ve[0],Ve[1],(0,w.v9)(D._e)),$e=(0,i.Z)((0,i.Z)({productName:null===Y||void 0===Y||null===(t=Y.productDetails)||void 0===t?void 0:t.title,description:null===Y||void 0===Y||null===(r=Y.productDetails)||void 0===r?void 0:r.body_html,daysToFulfill:null===Y||void 0===Y||null===(x=Y.productDetails)||void 0===x?void 0:x.shipping_time},function(){var e,t,r,n,a={};(null===Y||void 0===Y||null===(e=Y.productDetails)||void 0===e||null===(t=e.product_variants)||void 0===t?void 0:t.length)>0&&(null===Y||void 0===Y||null===(r=Y.productDetails)||void 0===r||null===(n=r.product_variants)||void 0===n||n.forEach((function(e,t){a["variants.".concat(t,".wsp")]=e.wsp})));return a}()),function(){var e,t,r,n={};(null===Y||void 0===Y||null===(e=Y.productDetails)||void 0===e||null===(t=e.product_variants)||void 0===t?void 0:t.length)>0&&(null===Y||void 0===Y||null===(r=Y.productDetails)||void 0===r||r.product_variants.forEach((function(e,t){n["variants.".concat(t,".msrp")]=e.price})));return n}()),Qe=(0,N.cI)({mode:"onChange",defaultValues:$e,resolver:(0,_.X)(q)}),Xe=Qe.register,et=Qe.handleSubmit,tt=Qe.control,rt=Qe.formState.errors,nt=(Qe.reset,function(e,t,r){var n="status"===r?e.target.checked:e.target.value,a=(0,F.cloneDeep)(Se);a[t][r]="status"===r?n?"1":"0":e.target.value,console.log(a,"updateArray"),_e(a)}),at=(0,N.qo)({name:function(){var e,t,r,n,a=[];(null===Y||void 0===Y||null===(e=Y.productDetails)||void 0===e||null===(t=e.product_variants)||void 0===t?void 0:t.length)>0&&(a=null===Y||void 0===Y||null===(r=Y.productDetails)||void 0===r||null===(n=r.product_variants)||void 0===n?void 0:n.map((function(e,t){return"variants.".concat(t,".wsp")})));return a}(),control:tt}),st=(0,N.qo)({name:function(){var e,t,r,n,a=[];(null===Y||void 0===Y||null===(e=Y.productDetails)||void 0===e||null===(t=e.product_variants)||void 0===t?void 0:t.length)>0&&(a=null===Y||void 0===Y||null===(r=Y.productDetails)||void 0===r||null===(n=r.product_variants)||void 0===n?void 0:n.map((function(e,t){return"variants.".concat(t,".msrp")})));return a}(),control:tt});(0,o.useEffect)((function(){at.some((function(e){return""==e}))?We(!0):We(!1)}),[at]),(0,o.useEffect)((function(){st.some((function(e){return""==e}))?Je(!0):Je(!1)}),[st]);var it=["image/jpeg","image/png"],ct=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t,"e"),!t.target.files){e.next=10;break}return Array.from(t.target.files).map((function(e){if(it.includes(e.type))return URL.createObjectURL(e)})),(r=new FormData).append("file",t.target.files[0]),e.next=7,(0,A.uz)(r);case 7:n=e.sent,te((function(e){return e.concat([{src:n.url}])})),t.target.value="";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){var e,t,r,n;me(null===Y||void 0===Y||null===(e=Y.productDetails)||void 0===e||null===(t=e.product_tags)||void 0===t?void 0:t.map((function(e){return e.tag})));var a,s,i,c=document.getElementById("editor")||null;null!==Y&&void 0!==Y&&null!==(r=Y.productDetails)&&void 0!==r&&null!==(n=r.product_images)&&void 0!==n&&n.length&&te(null===Y||void 0===Y||null===(a=Y.productDetails)||void 0===a?void 0:a.product_images);null!==Y&&void 0!==Y&&Y.categories&&(Ae(null===Y||void 0===Y||null===(s=Y.categories)||void 0===s||null===(i=s.mainCategory)||void 0===i?void 0:i.id),setTimeout((function(){var e,t;qe(null===Y||void 0===Y||null===(e=Y.categories)||void 0===e||null===(t=e.subCategory)||void 0===t?void 0:t.id)}),350),setTimeout((function(){var e,t;Ue(null===Y||void 0===Y||null===(e=Y.categories)||void 0===e||null===(t=e.group)||void 0===t?void 0:t.id)}),700));ye(Y.productDetails.body_html),de(c)}),[]),(0,o.useEffect)((function(){oe&&g().create(document.getElementById("editor"),{alignment:{options:["right","left","center","justify"]}}).then((function(e){e.model.document.on("change:data",(function(){ye(e.getData())}));var t=document.getElementById("toolbar");e.commands.get("alignment");t.replaceChild(e.ui.view.toolbar.element,t.firstChild)}))}),[oe]),(0,o.useEffect)((function(){W((0,y.Sq)("category",0))}),[]),(0,o.useEffect)((function(){De&&W((0,y.Sq)("subcategory",De))}),[De]),(0,o.useEffect)((function(){Ee&&W((0,y.Sq)("group",Ee))}),[Ee]);var ot=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,n,s,i,c,o,d,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Se.map((function(e){return{id:e.id,sku:e.sku,wsp:e.wsp,msrp:e.price,status:parseInt(e.status)}})),console.log(Se,"act"),!Me&&!He&&De&&Ee){e.next=4;break}return e.abrupt("return");case 4:return o=[],(0,F.map)(ee,(function(e,t){var r={image:e.src,isMain:ae==t?"1":"0"};o.push(r)})),d={id:null===Y||void 0===Y||null===(r=Y.productDetails)||void 0===r?void 0:r.id,product_name:null===t||void 0===t?void 0:t.productName,product_description:we,tags:pe,shipping_time:null===t||void 0===t?void 0:t.daysToFulfill,product_category:{select_category:De,select_sub_category:Ee,select_group:Be},product_images:o,shopifyImageId:null===Y||void 0===Y||null===(n=Y.productDetails)||void 0===n||null===(s=n.product_images)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.shopify_image_id,product_variant:c},e.next=9,(0,y.$j)(d,null===M||void 0===M?void 0:M.id);case 9:if(!e.sent.isSuccess){e.next=16;break}return C.Am.success("Product updated successfully"),e.next=14,(0,y.rU)(null===M||void 0===M?void 0:M.id);case 14:(l=e.sent).isSuccess&&W((0,T.AB)(l.data));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){}),[]);var dt,lt=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W((0,y.O8)({product_id:null===L||void 0===L||null===(t=L.productDetails)||void 0===t?void 0:t.shopify_product_id,user_id:K.id}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,E.jsxs)("div",{className:"wrapper",children:[(0,E.jsx)(u.Z,{}),(0,E.jsx)("main",{className:"content mp-content edit-product",children:(0,E.jsx)("form",{onSubmit:et(ot),children:(0,E.jsx)("section",{className:"section products mp-section",children:(0,E.jsxs)("div",{className:"products_content",children:[(0,E.jsx)("div",{className:"products_head mp-head",children:(0,E.jsxs)("div",{className:"products_head-content",children:[(0,E.jsxs)("div",{className:"title",children:[(0,E.jsx)("div",{onClick:function(){return $({pathname:void 0===$(-1)?"brand/products":$(-1)})},children:(0,E.jsx)(l.OL,{children:(0,E.jsx)("img",{className:"icon",src:p.Z})})}),(0,E.jsx)("div",{className:"title",children:(0,E.jsxs)("h1",{children:["Editing: ",null===Y||void 0===Y||null===(S=Y.productDetails)||void 0===S?void 0:S.title," "]})}),(0,E.jsx)("button",{className:"button button-sky-blue remove-all-from-my-list large",onClick:lt,children:"Sync Product from Shopify"})]}),(0,E.jsxs)("button",{type:"submit",className:"button button-dark black large",children:[(0,E.jsx)("img",{className:"icon",src:f}),"Save Changes"]})]})}),(0,E.jsx)("div",{className:"products_body light-gray-bg",children:(0,E.jsx)("div",{className:"products_middle",children:(0,E.jsx)("div",{className:"content_area",children:(0,E.jsxs)("div",{className:"edit-product_area",children:[V&&(0,E.jsxs)("div",{className:"alert alert-error d-flex align-items-center",role:"alert",children:[(0,E.jsx)("img",{className:"icon",src:b.Z}),(0,E.jsx)("div",{children:"Unfortunately, the syncing of the product was not successful. Please try again."})]}),(!De||Me||He)&&(0,E.jsxs)("div",{className:"alert alert-warning d-flex align-items-start",role:"alert",children:[(0,E.jsx)("img",{className:"icon",src:h.Z}),(0,E.jsxs)("div",{className:"notes",children:[!De&&(0,E.jsxs)("div",{children:["Please fill this required field:"," ",(0,E.jsx)("a",{href:"#",children:"Product Category"})]}),Me&&(0,E.jsxs)("div",{children:["Please enter ",(0,E.jsx)("a",{href:"#",children:"WSP"})]}),He&&(0,E.jsxs)("div",{children:["Please enter ",(0,E.jsx)("a",{href:"#",children:"MSRP"})]})]})]}),Ye.profile&&Ye.paid?(0,E.jsx)(E.Fragment,{}):(0,E.jsx)("div",{className:"alert alert-warning d-flex align-items-center",role:"alert",children:(0,E.jsxs)("div",{className:"alert-warning-title",children:["You must complete the following configurations before updating the details of a product",(0,E.jsxs)("ul",{children:[Ye.profile?(0,E.jsx)(E.Fragment,{}):(0,E.jsx)("li",{children:"Brand Profile"}),Ye.paid?(0,E.jsx)(E.Fragment,{}):(0,E.jsx)("li",{children:"Getting Paid"})]}),(0,E.jsx)("button",{onClick:function(){$("/brand/setting/")},className:"button button-white close",children:"Go to Settings"})]})}),(0,E.jsxs)("div",{className:"edit-product_tabs",children:[(0,E.jsx)("div",{id:"product-info",children:(0,E.jsxs)("div",{className:"pi-area",children:[(0,E.jsxs)("div",{className:"product-item-left",children:[(0,E.jsxs)("div",{className:"product-item-list",children:[(0,E.jsxs)("div",{className:"bd-callout mt-0",children:["Product Info",(0,E.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,E.jsxs)("div",{className:"form-input",children:[(0,E.jsx)("label",{htmlFor:"Productname",className:"form-label",children:"Product name"}),(0,E.jsx)("input",(0,i.Z)({type:"text",className:"form-control",placeholder:"Summer Activities Chips for Kids"},Xe("productName",{required:!0}))),(null===rt||void 0===rt?void 0:rt.productName)&&(0,E.jsx)("span",{className:"error-text",children:null===rt||void 0===rt||null===(I=rt.productName)||void 0===I?void 0:I.message})]}),(0,E.jsxs)("div",{className:"form-input",children:[(0,E.jsx)("label",{htmlFor:"ProductDescription",className:"form-label",children:"Product description"}),(0,E.jsx)("div",{className:"editor",children:(0,E.jsx)("div",{className:"content-info-",children:(0,E.jsx)("div",{"data-editor":"ClassicEditor","data-collaboration":"false","data-revision-history":"false",children:(0,E.jsx)("main",{children:(0,E.jsxs)("div",{className:"text-add",children:[(0,E.jsx)("p",{}),(0,E.jsx)("div",{id:"toolbar",children:(0,E.jsx)("i",{})}),(0,E.jsx)("div",{className:"text-editor",value:we,style:{width:"100%",height:"200px"},id:"editor",children:(0,E.jsx)("div",{className:"centered",children:(0,E.jsx)("div",{className:"",children:(0,E.jsx)("div",{className:"editor-container",children:(0,E.jsx)("div",{className:"editor",children:(0,E.jsx)("p",{children:null===Y||void 0===Y||null===(O=Y.productDetails)||void 0===O?void 0:O.body_html})})})})})})]})})})})})]})]}),(0,E.jsx)("div",{className:"product-item-list",children:(0,E.jsx)("div",{id:"product-images",children:(0,E.jsxs)("div",{className:"pm-area",children:[(0,E.jsxs)("div",{className:"bd-callout mt-0",children:["Product Images"," ",(0,E.jsx)("span",{children:"(".concat(null===Y||void 0===Y||null===(B=Y.productDetails)||void 0===B||null===(U=B.product_images)||void 0===U?void 0:U.length,")")}),(0,E.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,E.jsx)("div",{className:"product-images product-images pi-radio",children:(dt=ee,console.log(dt,"data"),(0,E.jsx)(E.Fragment,{children:dt.length>0&&dt.map((function(e,t){var r;return(0,E.jsxs)(o.Fragment,{children:[(0,E.jsx)("div",{className:"".concat(ae===t?"active ":""," pe"),onClick:function(){return se(t)},children:(0,E.jsxs)("div",{className:"pe_main",children:[(0,E.jsx)("div",{className:"pe_body",children:(0,E.jsx)("div",{className:"image",children:(0,E.jsx)("picture",{children:(0,E.jsx)("img",{src:null!==(r=null===e||void 0===e?void 0:e.src)&&void 0!==r?r:e,alt:""})})})}),(0,E.jsx)("div",{className:"pe_footer",children:(0,E.jsx)("div",{className:"pe_radio my_list-table",children:(0,E.jsxs)("label",{htmlFor:"radio-two"+"".concat(t),className:"radiobox",children:[(0,E.jsx)("input",{type:"radio",name:"radio-filter",id:"radio-two"+"".concat(t),value:t,onChange:function(){return se(t)},checked:ae===t,defaultChecked:ae===t}),(0,E.jsx)("div",{className:"radiobox-text",children:(0,E.jsx)("span",{children:0===t?(0,E.jsx)("span",{children:"Set as Main"}):(0,E.jsx)("span",{children:"Make Primary"})})})]})})})]})}),(0,E.jsx)("a",{className:"delete-image",children:(0,E.jsx)("img",{className:"icon",src:j,onClick:function(){return e=t,ee.splice(e,1),void te((0,n.Z)(ee));var e}})})]},"".concat(t," img"))}))}))}),(0,E.jsxs)("div",{className:"upload-image-area",children:[(0,E.jsx)("img",{src:m}),(0,E.jsxs)("p",{className:"dragBox",children:["Drag & drop image to upload (max. file size 20 MB per image)",(0,E.jsx)("input",(0,i.Z)((0,i.Z)({type:"file",name:"file",multiple:!0},Xe("file",{required:!1,validate:{lessThan20MB:function(e){var t;return(null===(t=e[0])||void 0===t?void 0:t.size)<3e4||"Max 30kb"},acceptedFormats:function(e){var t;return["image/jpeg","image/png","image/gif"].includes(null===(t=e[0])||void 0===t?void 0:t.type)}}})),{},{onChange:ct}))]}),(0,E.jsx)("label",{htmlFor:"uploadFile",className:"button button-white",children:"Upload Image"})]})]})})})]}),(0,E.jsxs)("div",{className:"product-item-right",children:[(0,E.jsxs)("div",{className:"product-item-list mt-0 pdc-area",children:[(0,E.jsxs)("div",{className:"bd-callout mt-0 mb-2",children:["Product Category"," ",(0,E.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,E.jsx)("p",{className:"productc-note",children:"Assigning the Product Category will help retailers find your products."}),(0,E.jsxs)("div",{className:"form-data",children:[(0,E.jsxs)("select",{onChange:function(e){Ae(e.target.value)},children:[(0,E.jsx)("option",{value:"",children:"Select a category"}),z.map((function(e){return(0,E.jsx)("option",{selected:De==e.id,value:e.id,children:e.name},e.id)}))]}),(0,E.jsxs)("select",{disabled:De<0||null==De||void 0==De,onChange:function(e){return qe(e.target.value)},children:[(0,E.jsx)("option",{value:"",children:"Select a subcategory"}),H.map((function(e){return(0,E.jsx)("option",{selected:Ee==e.id,value:e.id,children:e.name},e.id)}))]}),(0,E.jsxs)("select",{disabled:!Ee,onChange:function(e){return Ue(e.target.value)},children:[(0,E.jsx)("option",{value:"",children:"Select a group"}),J.map((function(e){return(0,E.jsx)("option",{selected:Be==e.id,value:e.id,children:e.name},e.id)}))]})]})]}),(0,E.jsx)("div",{id:"product-shipping",className:"product-item-list mt-4",children:(0,E.jsxs)("div",{className:"pv-area",children:[(0,E.jsxs)("div",{className:"bd-callout mt-0 mb-0",children:["Days to Fulfill"," ",(0,E.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,E.jsx)("div",{className:"shipping-fee-form",children:(0,E.jsx)("div",{className:"fee-area mb-0 mt-2",children:(0,E.jsxs)("div",{className:"form-input radio-input",children:[(0,E.jsx)("label",{htmlFor:"Productname",className:"form-label"}),(0,E.jsx)("div",{className:"time-radio-group mb-2",children:(0,E.jsxs)("div",{className:"category-data",children:[(0,E.jsx)("div",{className:"checkbox checkbox--no-decor",children:(0,E.jsxs)("label",{htmlFor:"time-1",children:[(0,E.jsx)("input",(0,i.Z)({type:"radio",id:"time-1",name:"p-tag",value:"3-7"},Xe("daysToFulfill"))),(0,E.jsx)("div",{className:"checkbox-text",children:(0,E.jsx)("span",{className:"category-name",children:"3-7"})})]})}),(0,E.jsx)("div",{className:"checkbox checkbox--no-decor",children:(0,E.jsxs)("label",{htmlFor:"time-2",children:[(0,E.jsx)("input",(0,i.Z)({type:"radio",id:"time-2",name:"p-tag",value:"7-14"},Xe("daysToFulfill"))),(0,E.jsx)("div",{className:"checkbox-text",children:(0,E.jsxs)("span",{className:"category-name",children:["","7-14"]})})]})}),(0,E.jsx)("div",{className:"checkbox checkbox--no-decor",children:(0,E.jsxs)("label",{htmlFor:"time-3",children:[(0,E.jsx)("input",(0,i.Z)({type:"radio",id:"time-3",name:"p-tag",value:"14-21"},Xe("daysToFulfill"))),(0,E.jsx)("div",{className:"checkbox-text",children:(0,E.jsx)("span",{className:"category-name",children:"14-21"})})]})}),(0,E.jsx)("div",{className:"checkbox checkbox--no-decor",children:(0,E.jsxs)("label",{htmlFor:"time-4",children:[(0,E.jsx)("input",(0,i.Z)({type:"radio",id:"time-4",name:"p-tag",value:"21"},Xe("daysToFulfill"))),(0,E.jsx)("div",{className:"checkbox-text",children:(0,E.jsxs)("span",{className:"category-name",children:[" ","> 21"]})})]})})]})})]})})})]})}),(0,E.jsxs)("div",{className:"product-tag",children:[(0,E.jsx)("div",{className:"pa-title",children:(0,E.jsx)("h3",{children:"Tags"})}),(0,E.jsx)("p",{className:"tag-note",children:"Only you as a Brand will be able to view these tags."}),(0,E.jsx)("input",{type:"text",id:"tags-input",className:"tag-text",placeholder:"Add tag",value:ge,onChange:function(e){var t=e.target.value;je(t)},onKeyDown:function(e){if("Enter"===e.key){var t=pe;t.push(ge),me(t),je("")}}}),(0,E.jsx)("div",{className:"tab-list",children:(null===pe||void 0===pe?void 0:pe.length)>0&&pe.map((function(e,t){return(0,E.jsx)("div",{className:"checkbox checkbox--no-decor m-1",children:(0,E.jsx)("label",{className:"tag-lbl",children:(0,E.jsxs)("div",{className:"checkbox-text",children:[e,(0,E.jsx)("span",{className:"closebtn",onClick:function(){return function(e){var t=pe.filter((function(t){return t!==e}));me(t)}(e)},children:"\xd7"})]},"".concat(t," close"))})},"".concat(t," tags"))}))})]})]})]})}),(0,E.jsx)("div",{id:"product-variants",className:"product-item-list",children:(0,E.jsxs)("div",{className:"pv-area",children:[(0,E.jsxs)("div",{className:"bd-callout mt-0 mb-4",children:["Product Variants (",null===Y||void 0===Y||null===(R=Y.productDetails)||void 0===R||null===(G=R.product_variants)||void 0===G?void 0:G.length,") ",(0,E.jsx)("span",{className:"asterisk-red",children:"*"})]}),(0,E.jsxs)("div",{className:"alert alert-primary d-flex align-items-center",role:"alert",children:[(0,E.jsx)("img",{className:"icon-Blue",src:b.Z}),(0,E.jsx)("div",{children:"You must include at least one (1) product variant. SKU, WSP, and MSRP are required fields."})]}),(0,E.jsx)("div",{className:"v-table pv-update",children:(0,E.jsxs)("table",{className:"table table-vars",children:[(0,E.jsx)("thead",{className:"sticky-thead",children:(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{}),(0,E.jsx)("th",{children:(0,E.jsxs)("div",{className:"txt",children:["Material",(0,E.jsx)("button",{className:"sort",children:(0,E.jsx)("img",{className:"icon",src:v.Z})})]})}),(0,E.jsx)("th",{children:(0,E.jsxs)("div",{className:"txt",children:["Color",(0,E.jsx)("button",{className:"sort",children:(0,E.jsx)("img",{className:"icon",src:v.Z})})]})}),(0,E.jsx)("th",{children:(0,E.jsxs)("div",{className:"txt",children:["SKU",(0,E.jsx)("button",{className:"sort",children:(0,E.jsx)("img",{className:"icon",src:v.Z})})]})}),(0,E.jsx)("th",{children:(0,E.jsxs)("div",{className:"txt",children:["Barcode",(0,E.jsxs)("div",{className:"tooltip",children:[(0,E.jsx)("div",{className:"tooltip-icon tooltip-icon-info ic-if-blue",children:(0,E.jsx)("img",{className:"icon-info",src:b.Z})}),(0,E.jsx)("div",{className:"tooltip_text",children:(0,E.jsx)("p",{children:"ISBN, UPC, GTIN, ..."})})]})]})}),(0,E.jsx)("th",{children:(0,E.jsxs)("div",{className:"txt",children:["Stock",(0,E.jsxs)("div",{className:"tooltip",children:[(0,E.jsx)("div",{className:"tooltip-icon tooltip-icon-info ic-if-blue",children:(0,E.jsx)("img",{className:"icon-info",src:b.Z})}),(0,E.jsx)("div",{className:"tooltip_text",children:(0,E.jsx)("p",{children:"The inventory published within ShopDot is based on the inventory from your Shopify store x the inventory buffer that you set under Settings-Preferences."})})]}),(0,E.jsx)("button",{className:"sort",children:(0,E.jsx)("img",{className:"icon",src:v.Z})})]})}),(0,E.jsx)("th",{children:(0,E.jsxs)("div",{className:"txt",children:["WSP",(0,E.jsxs)("div",{className:"tooltip",children:[(0,E.jsx)("div",{className:"tooltip-icon tooltip-icon-info ic-if-blue",children:(0,E.jsx)("img",{className:"icon-info",src:b.Z})}),(0,E.jsx)("div",{className:"tooltip_text",children:(0,E.jsx)("p",{children:"WSP stands for Wholesale Price. This is the price that retailers pay brands."})})]}),(0,E.jsx)("button",{className:"sort",children:(0,E.jsx)("img",{className:"icon",src:v.Z})})]})}),(0,E.jsx)("th",{children:(0,E.jsxs)("div",{className:"txt",children:["MSRP",(0,E.jsx)("button",{className:"sort",children:(0,E.jsx)("img",{className:"icon",src:v.Z})})]})}),(0,E.jsx)("th",{children:(0,E.jsxs)("div",{className:"product-activation",children:[(0,E.jsx)("span",{children:"Allow"}),(0,E.jsxs)("div",{className:"my-toggle-btn",children:[(0,E.jsx)("input",{type:"checkbox",id:"checkbox11",onChange:function(e){!function(e){var t=(0,F.cloneDeep)(Se);(0,F.map)(t,(function(r,n){t[n].status=e.target.checked?"1":"0"})),_e(t)}(e)}}),(0,E.jsxs)("label",{htmlFor:"checkbox11",children:[(0,E.jsx)("span",{className:"on",title:"on"}),(0,E.jsx)("span",{className:"off",title:"off"})]})]}),(0,E.jsxs)("div",{className:"tooltip",children:[(0,E.jsx)("div",{className:"tooltip-icon tooltip-icon-info ic-if-blue",children:(0,E.jsx)("img",{className:"icon-info",src:b.Z})}),(0,E.jsx)("div",{className:"tooltip_text",children:(0,E.jsx)("p",{children:"Select variants you want to allow for ShopDot."})})]})]})})]})}),(0,E.jsx)("tbody",{className:"scroll-table",children:Se&&Se.length>0&&Se.map((function(e,t){var r;return(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:(0,E.jsx)("div",{className:"image image--cover image--1-1",children:(0,E.jsx)("picture",{children:(0,E.jsx)("img",{src:null!==(r=null===e||void 0===e?void 0:e.image)&&void 0!==r?r:Z,alt:"img"})})})}),(0,E.jsx)("td",{children:(0,E.jsx)("div",{className:"txt",children:null===e||void 0===e?void 0:e.material})}),(0,E.jsx)("td",{children:(0,E.jsx)("div",{className:"txt",children:null===e||void 0===e?void 0:e.title})}),(0,E.jsx)("td",{children:(0,E.jsx)("div",{className:"txt vin-txt",children:null===e||void 0===e?void 0:e.sku})}),(0,E.jsx)("td",{children:(0,E.jsx)("div",{className:"txt",children:null===e||void 0===e?void 0:e.barcode})}),(0,E.jsx)("td",{children:(0,E.jsx)("div",{className:"txt",children:null===e||void 0===e?void 0:e.inventory_quantity})}),(0,E.jsx)("td",{children:(0,E.jsx)("div",{className:"txt",children:(0,E.jsx)("input",{type:"text",className:"tabel-text",value:e.wsp,onChange:function(e){nt(e,t,"wsp")}})})}),(0,E.jsx)("td",{children:(0,E.jsx)("div",{className:"txt",children:(0,E.jsx)("input",{type:"text",className:"tabel-text",value:e.price,onChange:function(e){nt(e,t,"price")}})})}),(0,E.jsx)("td",{children:(0,E.jsxs)("div",{className:"product-activation",children:[(0,E.jsx)("span",{children:"Allow"}),(0,E.jsxs)("div",{className:"my-toggle-btn",children:[(0,E.jsx)("input",{id:"checkbox".concat(null===e||void 0===e?void 0:e.id),type:"checkbox",checked:"1"===e.status,onChange:function(e){console.log(e,"asdsa asd"),nt(e,t,"status")}}),(0,E.jsxs)("label",{htmlFor:"checkbox".concat(null===e||void 0===e?void 0:e.id),children:[(0,E.jsx)("span",{className:"on",title:"on"}),(0,E.jsx)("span",{className:"off",title:"off"})]})]})]})})]},"".concat(null===e||void 0===e?void 0:e.id," product ").concat((new Date).getTime()))}))})]})})]})})]})]})})})})]})})})}),(0,E.jsx)(C.Ix,{})]})}},32151:function(e,t,r){r.d(t,{Cs:function(){return l},JL:function(){return n},Jd:function(){return v},NH:function(){return p},NT:function(){return h},Sc:function(){return m},WF:function(){return c},YP:function(){return o},_e:function(){return d},bU:function(){return x},c2:function(){return i},dG:function(){return f},dR:function(){return g},lC:function(){return s},o2:function(){return a},pI:function(){return u}});var n=function(e){return e.brandProduct.productCatOptions},a=function(e){return e.brandProduct.productTagOptions},s=function(e){return e.brandProduct.stockOptions},i=function(e){return e.brandProduct.brandProductList},c=function(e){return e.brandProduct.productCatFilter},o=function(e){return e.brandProduct.productTagFilter},d=function(e){return e.brandProduct.stockFilter},l=function(e){return e.brandProduct.productStatusFilter},u=function(e){return e.brandProduct.productDetails},p=function(e){return e.brandProduct.updatingProduct},m=function(e){return e.brandProduct.updateProductSuccess},v=function(e){return e.brandProduct.productSubCatOptions},h=function(e){return e.brandProduct.productGroupOptions},f=function(e){return e.brandProduct.syncError},x=function(e){return e.brandProduct.syncInProgress},g=function(e){return e.brandProduct.syncSuccess}},84933:function(e,t,r){r.d(t,{Rp:function(){return a},Sn:function(){return n},ZL:function(){return s},_e:function(){return i}});var n=function(e){return e.brandProfile.brandProfileDetails},a=function(e){return e.brandProfile.brandCategory},s=function(e){return e.brandProfile.brandValues},i=function(e){return e.brandProfile.profileCompleted}}}]);
//# sourceMappingURL=2270.38a19dee.chunk.js.map
"use strict";(self.webpackChunkshopdot=self.webpackChunkshopdot||[]).push([[6597],{2970:function(n,e,r){var t,a=r(168),o=r(1191),s=r(1011),c=o.ZP.input(t||(t=(0,a.Z)(["\n    // display: flex;\n    // align-items: center;\n    // align-content: center;\n    // z-index: 0;\n    // -webkit-appearance: none;\n    // appearance: none;\n    // width: 100%;\n    // box-sizing: border-box;\n    // font-family: ",";\n    // font-size: ",";\n    // font-weight: 400;\n    // border: 0.1rem solid ",";\n    // border-radius: ",";\n    // padding: ",";\n    // height: ",";\n    // outline: none;\n    // background-color: ",";\n    // transition: all "," ease;\n    // caret-color: ",";\n    //\n    // &::place-holder {\n    //     color: ",";\n    //     opacity: 0.64;\n    // }\n    //\n    // &.invalid {\n    //     border-color: ",";\n    //     background-color: ",";\n    // }\n    //\n    // &:focus {\n    //     border-color: ",";\n    //     background-color: ",";\n    // }\n    //\n    // &:focus:required:invalid {\n    //     border-color: ",";\n    //     background-color: ",";\n    // }\n    //\n    // &:required:valid {\n    //     border-color: var(--orange-tint-10);\n    //     background-color: var(--white);\n    // }\n    //\n    // &.valid {\n    //     border-color: ",";\n    //     background-color: ",";\n    // }\n\n    background: #fffcf9;\n    border: 1px solid #f3e0d2;\n    border-radius: 4px;\n    height: 4rem;\n    padding: 1rem 1.2rem;\n    display: block;\n    width: 100%;\n    margin-top: 0.6rem;\n    appearance: none;\n    box-sizing: border-box;\n    font-family: 'Mulish', sans-serif;\n    outline: none;\n\n    &.invalid {\n        border-color: #eb5757;\n    }\n"])),s.IN,s.dA,s.cb,s.xM,s.nf,s.ZO,s.sE,s.rY,s.J0,s.ZR,s.ow,s.AW,s.ow,s.AW,s.ow,s.AW,s.MG,s.a9);e.Z=c},5548:function(n,e,r){r.d(e,{AM:function(){return w},Di:function(){return y},En:function(){return M},H4:function(){return s},HB:function(){return H},M8:function(){return W},N1:function(){return p},NC:function(){return Z},NR:function(){return m},Nv:function(){return i},Nz:function(){return a},OH:function(){return B},PO:function(){return J},Pm:function(){return T},RR:function(){return z},Rm:function(){return o},Tj:function(){return P},Wd:function(){return f},Xs:function(){return _},Yv:function(){return A},ZS:function(){return q},Zy:function(){return O},b9:function(){return k},bk:function(){return d},dF:function(){return b},gp:function(){return j},gw:function(){return l},iw:function(){return h},kB:function(){return g},od:function(){return E},oe:function(){return R},oj:function(){return u},p8:function(){return v},qq:function(){return S},ry:function(){return C},uW:function(){return N},wG:function(){return I},xk:function(){return x},z6:function(){return c}});var t="https://dev.backend.shopdotapp.com/api/v1",a="".concat(t,"/auth/signup/"),o="".concat(t,"/auth/verification/send-mail"),s=("".concat(t,"/auth/verify"),"".concat(t,"/auth/signin")),c="".concat(t,"/auth/refresh-token"),i="".concat(t,"/auth/signout"),u=function(n){return"".concat(t,"/auth/user/").concat(n,"/change-password")},d=function(n){return"".concat(t,"/auth/user/").concat(n,"/reset-password")},l="".concat(t,"/auth/send-reset-link"),p="".concat(t,"/user/roles"),f="".concat(t,"/user/platform"),m=("".concat(t,"/platform/shopify-integration"),"".concat(t,"/auth/upload-image")),h=("".concat(t,"/user/retailer-profile"),"".concat(t,"/platform")),w="".concat(t,"/user/brand-profile"),v=function(n){return"".concat(t,"/user/brand-profile/").concat(n)},b="".concat(t,"/payment/create-brand-as-customer"),x="".concat(t,"/payment/customer/external-account"),k="".concat(t,"/payment/customer"),g="".concat(t,"/user/brand-shipping"),N="".concat(t,"/platform/shipping-times"),j=function(n){return"".concat(t,"/shopify/sync-all-product?&user_id=").concat(n)},Z=("".concat(t,"/shopify/sync-all-product"),"".concat(t,"/shopify/sync-product")),y="".concat(t,"/brand/setting/preferences"),S="".concat(t,"/brand/setting/notifications"),_="".concat(t,"/shopify/shopify-remove"),P="".concat(t,"/user/retailer-profile"),z="".concat(t,"/retailer/brands"),q="".concat(t,"/brand/product/list"),C="".concat(t,"/brand/product/download"),I="".concat(t,"/brand/product/upload"),T="".concat(t,"/brand/product-tags"),A="".concat(t,"/brand/product/status"),O=function(n){return"".concat(t,"/brand/product/category/").concat(n)},B=function(n){return"".concat(t,"/brand/product/").concat(n)},R=function(n){return"".concat(t,"/brand/product/").concat(n)},M="".concat(t,"/platform/category"),H="".concat(t,"/platform/values"),W="".concat(t,"/brand/orders"),E=("".concat(t,"/order/details"),"".concat(t,"/countries")),J=function(n){return"".concat(t,"/countries/").concat(n,"/states")}},8893:function(n,e,r){r.r(e),r.d(e,{default:function(){return w}});var t=r(1413),a=r(9439),o=r(2791),s=r(1134),c=r(4695),i=r(2797),u=r(2970),d=r(9434),l=r(7423),p=r(9290),f=r(763),m=r(184),h=i.Ry().shape({password:i.Z_().required("Password is required."),newpassword:i.Z_().required("Password is required.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character."),confirmNewPassword:i.Z_().oneOf([i.iH("newpassword"),null],"Passwords must match.").required("Password confirm is required.")}).required();function w(){var n,e,r,i=(0,d.I0)(),w=(0,o.useState)(!0),v=(0,a.Z)(w,2),b=v[0],x=v[1],k=(0,o.useState)(!0),g=(0,a.Z)(k,2),N=g[0],j=g[1],Z=(0,o.useState)(!0),y=(0,a.Z)(Z,2),S=y[0],_=y[1],P=(0,s.cI)({resolver:(0,c.X)(h),onChange:!0}),z=P.register,q=P.handleSubmit,C=P.reset,I=P.formState.errors,T=(0,d.v9)(p.uy);return(0,m.jsxs)("div",{className:"products_content",children:[(0,m.jsx)("div",{className:"products_head mp-head",children:(0,m.jsx)("div",{className:"products_head-content",children:(0,m.jsx)("div",{className:"title",children:(0,m.jsx)("h1",{children:"Security"})})})}),(0,m.jsx)("div",{className:"products_body",children:(0,m.jsx)("div",{className:"content_area",children:(0,m.jsx)("div",{id:"security",children:(0,m.jsx)("form",{onSubmit:q((function(n){console.log("data",n),(0,f.isEmpty)(n.password)||(i((0,l.Cp)({old_password:n.password,password:n.newpassword,confirm_password:n.confirmNewPassword},T.id)),C())})),children:(0,m.jsxs)("div",{className:"security_info",children:[(0,m.jsx)("h2",{children:"Change Password"}),(0,m.jsxs)("div",{className:"form-area",children:[(0,m.jsxs)("div",{className:"form-input mb-4",children:[(0,m.jsx)("label",{className:"form-label",children:"Old password"}),(0,m.jsx)(u.Z,(0,t.Z)({className:"".concat(null!==I&&void 0!==I&&I.password?"is-invalid":""," form-control password"),type:b?"password":"text",name:"password"},z("password",{required:!0}))),(0,m.jsx)("span",{className:"password-show ".concat(b?"":"active"),onClick:function(){return x(!b)}}),(null===I||void 0===I?void 0:I.password)&&(0,m.jsx)("small",{className:"invalid-feedback mb-0",children:null===I||void 0===I||null===(n=I.password)||void 0===n?void 0:n.message})]}),(0,m.jsxs)("div",{className:"form-input mb-4 password-tooltip",children:[(0,m.jsx)("label",{className:"form-label",children:"New password"}),(0,m.jsx)(u.Z,(0,t.Z)({className:"".concat(null!==I&&void 0!==I&&I.newpassword?"is-invalid":""," form-control password"),type:N?"password":"text",name:"newpassword"},z("newpassword",{required:!0}))),(0,m.jsx)("span",{className:"password-show ".concat(N?"":"active"),onClick:function(){return j(!N)}}),(null===I||void 0===I?void 0:I.newpassword)&&(0,m.jsx)("small",{className:"invalid-feedback mb-0",children:null===I||void 0===I||null===(e=I.newpassword)||void 0===e?void 0:e.message}),(0,m.jsxs)("div",{className:"tooltip",children:[(0,m.jsx)("div",{className:"tooltip-icon"}),(0,m.jsxs)("div",{className:"tooltip_text",children:[(0,m.jsx)("div",{className:"tooltip-arrow"}),(0,m.jsx)("div",{className:"pwd-info-title",children:"Password must:"}),(0,m.jsxs)("div",{className:"pwd-info",children:[(0,m.jsx)("label",{children:"- have at least 1 number"}),(0,m.jsx)("label",{children:"- have at least 1 uppercase character"}),(0,m.jsx)("label",{children:"- have at least 1 lowercase character"}),(0,m.jsx)("label",{children:"- have at least 1 special character"}),(0,m.jsx)("label",{children:"- have 8 characters minimum"})]})]})]})]}),(0,m.jsxs)("div",{className:"form-input mb-4",children:[(0,m.jsx)("label",{className:"form-label",children:"Confirm new password"}),(0,m.jsx)(u.Z,(0,t.Z)({className:"".concat(null!==I&&void 0!==I&&I.confirmNewPassword?"is-invalid":""," form-control password"),type:S?"password":"text",name:"confirmNewPassword"},z("confirmNewPassword",{required:!0}))),(0,m.jsx)("span",{className:"password-show ".concat(S?"":"active"),onClick:function(){return _(!S)}}),(null===I||void 0===I?void 0:I.confirmNewPassword)&&(0,m.jsx)("small",{className:"invalid-feedback mb-0",children:null===I||void 0===I||null===(r=I.confirmNewPassword)||void 0===r?void 0:r.message})]})]}),(0,m.jsx)("div",{className:"form-area",children:(0,m.jsxs)("div",{className:"form-input form-submit mt-4",children:[(0,m.jsx)("button",{onClick:function(){return C()},className:"button button-grey cancel",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"button",children:"Save"})]})})]})})})})})]})}},9731:function(n,e,r){var t=r(4165),a=r(5861),o=r(3263),s=r(5548),c=o.Z;c.interceptors.request.use(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(e){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.headers.Authorization){n.next=7;break}return n.next=3,localStorage.getItem("accessToken");case 3:r=n.sent,c.defaults.headers.common.Authorization=r?"Bearer ".concat(r):"",e.headers.Authorization="Bearer ".concat(r),e.maxRedirects=0;case 7:return n.abrupt("return",e);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),(function(n){Promise.reject(n)})),c.interceptors.response.use(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(e){var r,a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.config.url!==s.H4&&e.config.url!==s.Nz){n.next=13;break}return r=e.data.data.access_token?e.data.data.access_token:"",a=e.data.data.refresh_token?e.data.data.refresh_token:"",c.defaults.headers.common.Authorization=r?"Bearer ".concat(r):"",n.prev=4,n.next=7,localStorage.setItem("accessToken",r);case 7:return n.next=9,localStorage.setItem("refreshToken",a);case 9:n.next=13;break;case 11:n.prev=11,n.t0=n.catch(4);case 13:return n.abrupt("return",e);case 14:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}());var i=[],u=!1;c.interceptors.response.use(void 0,function(){var n=(0,a.Z)((0,t.Z)().mark((function n(e){var r,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.response||!e.response.config||e.response.config.url!==s.z6||401!=e.response.status){n.next=4;break}setTimeout((0,a.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.setItem("accessToken","");case 2:return n.next=4,localStorage.setItem("refreshToken","");case 4:case"end":return n.stop()}}),n)}))),2e3),n.next=19;break;case 4:if(!e.response||401!=e.response.status){n.next=11;break}return r=localStorage.getItem("refreshToken"),o={refresh_token:r},i.push(e.config),n.abrupt("return",new Promise(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(e,r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u||(u=!0,delete c.defaults.headers.common.Authorization,c.post(s.z6,o,{headers:{"content-type":"application/json"}}).then(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(o){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.defaults.headers.common.Authorization="Bearer ".concat(o.data.data.access_token),n.next=3,localStorage.setItem("accessToken",o.data.data.access_token);case 3:return n.next=5,localStorage.setItem("refreshToken",o.data.data.refresh_token);case 5:i.map(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(a,u){var d;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i[u].headers.Authorization="Bearer ".concat(o.data.data.access_token),a.url!=s.Nv){n.next=8;break}return d=JSON.parse(a.data),n.next=5,localStorage.setItem("accessToken","");case 5:return n.next=7,localStorage.setItem("refreshToken","");case 7:a.data=JSON.stringify(d);case 8:c(a).then((function(n){return e(n)})).catch((function(n){r(n)}));case 9:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()),u=!1,i=[];case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){if(setTimeout((0,a.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.setItem("accessToken","");case 2:return n.next=4,localStorage.setItem("refreshToken","");case 4:case"end":return n.stop()}}),n)}))),2e3),500!==n.response.status)return n})));case 1:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()));case 11:if(!(e.response&&e.response.data&&e.response.data.location)){n.next=15;break}window.location=e.response.data.location,n.next=19;break;case 15:if(!e.response||401!=e.response.status||904==e.response.data.code){n.next=18;break}n.next=19;break;case 18:return n.abrupt("return",Promise.reject(e));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),e.Z=c}}]);
//# sourceMappingURL=6597.ae1f6898.chunk.js.map
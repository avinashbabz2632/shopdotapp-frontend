"use strict";(self.webpackChunkshopdot=self.webpackChunkshopdot||[]).push([[1938],{7423:function(e,t,r){r.d(t,{B6:function(){return v},Cp:function(){return y},D9:function(){return T},EV:function(){return g},HX:function(){return _},JT:function(){return P},KG:function(){return k},QX:function(){return A},RP:function(){return S},Yy:function(){return w},al:function(){return z},ex:function(){return B},fE:function(){return b},j5:function(){return m},mo:function(){return x},pP:function(){return I},vR:function(){return Z}});var n=r(1413),a=r(4165),o=r(5861),c=r(9731),s=r(9085),u=r(5548),i=r(2143),p=r(1319),f=r(3537),d=r(8098),l=r(9532),h=r(165);function v(e){return function(){var t=(0,o.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{({shop:e.name,user_id:e.user_id}),fetch("".concat(u.iw,"/shopify-integration?shop=").concat(e.name,"&user_id=").concat(e.user_id),{redirect:"manual"}).then((function(e){if("opaqueredirect"!==e.type)return e;window.location.href=e.url})).catch((function(){}))}catch(r){r.response&&r.response.data&&r.response.data.location&&(window.location=r.response.data.location),s.Am.error(r&&r.response&&r.response.data&&r.response.data.errors?r.response.data.errors:"Something went worng")}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function m(e){return function(){var t=(0,o.Z)((0,a.Z)().mark((function t(r){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.post(u.Xs,e);case 3:(n=t.sent)&&n.data&&200==n.data.code&&r(x(e.user_id)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Z(){return function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get(u.En);case 3:(r=e.sent)&&r.data&&200==r.data.code&&t((0,d.d7)({type:i.e7,data:r.data.data})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function x(e){return function(){var t=(0,o.Z)((0,a.Z)().mark((function t(r){var n,o,s,p,f,l,h,v,m,Z,x,w,k,g,b,y;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(u.AM,"/").concat(e,"/"));case 3:(n=t.sent)&&n.data&&200==n.data.code&&(r((0,d.bV)({type:i.AM,data:n.data.data})),r((0,d.K5)({preference:null===n||void 0===n||null===(o=n.data)||void 0===o||null===(s=o.data)||void 0===s||null===(p=s.brandPreference)||void 0===p?void 0:p.id,profile:null===n||void 0===n||null===(f=n.data)||void 0===f||null===(l=f.data)||void 0===l||null===(h=l.brand_profile)||void 0===h?void 0:h.company_name,paid:null===n||void 0===n||null===(v=n.data)||void 0===v||null===(m=v.data)||void 0===m||null===(Z=m.payment_detail)||void 0===Z?void 0:Z.customer_id,shipping:null===n||void 0===n||null===(x=n.data)||void 0===x||null===(w=x.data)||void 0===w||null===(k=w.shippingRate)||void 0===k?void 0:k.id,integration:null===n||void 0===n||null===(g=n.data)||void 0===g||null===(b=g.data)||void 0===b||null===(y=b.shop_detail)||void 0===y?void 0:y.is_active}))),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function w(){return function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get(u.HB);case 3:(r=e.sent)&&r.data&&200==r.data.code&&t((0,d.ku)({type:i.R0,data:r.data.data})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function k(e){return(0,o.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get(u.ee(e));case 3:if(!(r=t.sent)||!r.data||200!=r.data.code){t.next=6;break}return t.abrupt("return",!0);case 6:return t.abrupt("return",!1);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))}function g(e){return(0,o.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get(u.p8(e));case 3:if(!(r=t.sent)||!r.data||200!=r.data.code){t.next=6;break}return t.abrupt("return",!0);case 6:return t.abrupt("return",!1);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))}function b(e,t){return function(){var r=(0,o.Z)((0,a.Z)().mark((function r(n){var o;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!t){r.next=7;break}return r.next=4,c.Z.post(u.AM,e);case 4:o=r.sent,r.next=10;break;case 7:return r.next=9,c.Z.put(u.AM,e);case 9:o=r.sent;case 10:o&&o.status&&(201==o.status||200==o.status)?(s.Am.success("Profile Details Updated"),n(x(e.user_id))):s.Am.error("Something went worng"),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),s.Am.error(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?r.t0.response.data.errors:"Something went worng");case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e){return r.apply(this,arguments)}}()}function y(e,t){return function(){var r=(0,o.Z)((0,a.Z)().mark((function r(n){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((0,f.O)(!0)),r.prev=1,r.next=4,c.Z.post(u.oj(t),e);case 4:s.Am.success("Password changed successfully"),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),s.Am.error(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?r.t0.response.data.errors:"Something went worng");case 10:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(e){return r.apply(this,arguments)}}()}function _(e,t){return function(){var r=(0,o.Z)((0,a.Z)().mark((function r(n){var o,i,p;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.Z.get("".concat(u.b9,"/").concat(e,"/external-account/").concat(t));case 3:(o=r.sent)&&o.data&&201==o.data.code?n((0,h.Jx)(o.data.data)):s.Am.error("Something went worng"),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),(null===r.t0||void 0===r.t0||null===(i=r.t0.response)||void 0===i||null===(p=i.data)||void 0===p?void 0:p.errors).startsWith("customer with id")||s.Am.error(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?r.t0.response.data.errors:"Something went worng");case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}function A(e,t,r,n){return function(){var i=(0,o.Z)((0,a.Z)().mark((function o(i){var p;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t){a.next=7;break}return a.next=4,c.Z.put("".concat(u.b9,"/").concat(r,"/external-account/").concat(n),e);case 4:p=a.sent,a.next=10;break;case 7:return a.next=9,c.Z.post(u.xk,e);case 9:p=a.sent;case 10:p&&201===p.status?(i(_(e.customer_id,Number(p.data.data.external_account_id))),i((0,d.K5)({paid:!0}))):s.Am.error("Something went worng"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),s.Am.error(a.t0&&a.t0.response&&a.t0.response.data&&a.t0.response.data.errors?a.t0.response.data.errors:"Something went worng");case 16:case"end":return a.stop()}}),o,null,[[0,13]])})));return function(e){return i.apply(this,arguments)}}()}function S(e,t){return function(){var r=(0,o.Z)((0,a.Z)().mark((function r(o){var i;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.Z.post(u.dF,e);case 3:(i=r.sent)&&i.data&&201==i.data.code?o(A((0,n.Z)((0,n.Z)({},t),{},{account_type:t.account_type.value,purpose:t.purpose.value,customer_id:Number(i.data.data.customer_id)}),!1,null,e.brand_user_id)):s.Am.error("Something went worng"),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),s.Am.error(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?r.t0.response.data.errors:"Something went worng");case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}function T(e){return function(){var t=(0,o.Z)((0,a.Z)().mark((function t(r){var o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(u.kB,"/").concat(e));case 3:200==(o=t.sent).status&&r((0,p.Pr)((0,n.Z)((0,n.Z)({},o.data.data),{},{daystofulfill:o.data.data.shipping_time_id}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function P(e,t){return function(){var r=(0,o.Z)((0,a.Z)().mark((function r(n){var o;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n((0,p.bl)(!0)),!t){r.next=8;break}return r.next=5,c.Z.put("".concat(u.kB),e);case 5:o=r.sent,r.next=11;break;case 8:return r.next=10,c.Z.post(u.kB,e);case 10:o=r.sent;case 11:n(T(e.brand_id)),n((0,d.K5)({shipping:!0})),s.Am.success(o.data.message),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),s.Am.error(r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?r.t0.response.data.errors:"Something went worng");case 19:return r.prev=19,n((0,p.bl)(!1)),r.finish(19);case 22:case"end":return r.stop()}}),r,null,[[0,16,19,22]])})));return function(e){return r.apply(this,arguments)}}()}function I(){return function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get(u.uW);case 3:200==(r=e.sent).status&&t((0,p.Ii)(r.data.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function z(e){return function(){var t=(0,o.Z)((0,a.Z)().mark((function t(r){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(u.Di,"/").concat(e));case 3:200===(n=t.sent).status&&r((0,l.K)(n.data.data)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"err"),s.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function B(e){return function(){var t=(0,o.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.post(u.Di,e);case 3:201===t.sent.status&&(r(z(e.brand_id)),r((0,d.K5)({preference:!0})),s.Am.success("Preferences Updated")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s.Am.error(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors?t.t0.response.data.errors:"Something went worng");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},5548:function(e,t,r){r.d(t,{AM:function(){return m},Di:function(){return _},En:function(){return P},H4:function(){return c},HB:function(){return I},M8:function(){return z},N1:function(){return d},NR:function(){return h},Nv:function(){return u},Nz:function(){return a},Rm:function(){return o},Wd:function(){return l},Xs:function(){return S},ZS:function(){return T},b9:function(){return k},bk:function(){return p},dF:function(){return x},ee:function(){return y},gw:function(){return f},iw:function(){return v},kB:function(){return g},oj:function(){return i},p8:function(){return Z},qq:function(){return A},uW:function(){return b},xk:function(){return w},z6:function(){return s}});var n="https://dev.backend.shopdotapp.com/api/v1",a="".concat(n,"/auth/signup/"),o="".concat(n,"/auth/verification/send-mail"),c=("".concat(n,"/auth/verify"),"".concat(n,"/auth/signin")),s="".concat(n,"/auth/refresh-token"),u="".concat(n,"/auth/signout"),i=function(e){return"".concat(n,"/auth/user/").concat(e,"/change-password")},p=function(e){return"".concat(n,"/auth/user/").concat(e,"/reset-password")},f="".concat(n,"/auth/send-reset-link"),d="".concat(n,"/user/roles"),l="".concat(n,"/user/platform"),h=("".concat(n,"/platform/shopify-integration"),"".concat(n,"/auth/upload-image")),v=("".concat(n,"/user/retailer-profile"),"".concat(n,"/platform")),m="".concat(n,"/user/brand-profile"),Z=function(e){return"".concat(n,"/user/brand-profile/").concat(e)},x="".concat(n,"/payment/create-brand-as-customer"),w="".concat(n,"/payment/customer/external-account"),k="".concat(n,"/payment/customer"),g="".concat(n,"/user/brand-shipping"),b="".concat(n,"/platform/shipping-times"),y="".concat(n,"/shopify/sync-all-product"),_="".concat(n,"/brand/setting/preferences"),A="".concat(n,"/brand/setting/notifications"),S="".concat(n,"/shopify/shopify-remove"),T=("".concat(n,"/user/retailer-profile"),"".concat(n,"/brand/product/list")),P="".concat(n,"/platform/category"),I="".concat(n,"/platform/values"),z="".concat(n,"/brand/orders");"".concat(n,"/order/details")},4933:function(e,t,r){r.d(t,{Rp:function(){return a},Sn:function(){return n},ZL:function(){return o},_e:function(){return c}});var n=function(e){return e.brandProfile.brandProfileDetails},a=function(e){return e.brandProfile.brandCategory},o=function(e){return e.brandProfile.brandValues},c=function(e){return e.brandProfile.profileCompleted}},9731:function(e,t,r){var n=r(4165),a=r(5861),o=r(3263),c=r(5548),s=o.Z;s.interceptors.request.use(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.headers.Authorization){e.next=7;break}return e.next=3,localStorage.getItem("accessToken");case 3:r=e.sent,s.defaults.headers.common.Authorization=r?"Bearer ".concat(r):"",t.headers.Authorization="Bearer ".concat(r),t.maxRedirects=0;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Promise.reject(e)})),s.interceptors.response.use(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.config.url!==c.H4&&t.config.url!==c.Nz){e.next=13;break}return r=t.data.data.access_token?t.data.data.access_token:"",a=t.data.data.refresh_token?t.data.data.refresh_token:"",s.defaults.headers.common.Authorization=r?"Bearer ".concat(r):"",e.prev=4,e.next=7,localStorage.setItem("accessToken",r);case 7:return e.next=9,localStorage.setItem("refreshToken",a);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}());var u=[],i=!1;s.interceptors.response.use(void 0,function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response||!t.response.config||t.response.config.url!==c.z6||401!=t.response.status){e.next=4;break}setTimeout((0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.setItem("accessToken","");case 2:return e.next=4,localStorage.setItem("refreshToken","");case 4:case"end":return e.stop()}}),e)}))),2e3),e.next=19;break;case 4:if(!t.response||401!=t.response.status){e.next=11;break}return r=localStorage.getItem("refreshToken"),o={refresh_token:r},u.push(t.config),e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i||(i=!0,delete s.defaults.headers.common.Authorization,s.post(c.z6,o,{headers:{"content-type":"application/json"}}).then(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(o){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.defaults.headers.common.Authorization="Bearer ".concat(o.data.data.access_token),e.next=3,localStorage.setItem("accessToken",o.data.data.access_token);case 3:return e.next=5,localStorage.setItem("refreshToken",o.data.data.refresh_token);case 5:u.map(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a,i){var p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u[i].headers.Authorization="Bearer ".concat(o.data.data.access_token),a.url!=c.Nv){e.next=8;break}return p=JSON.parse(a.data),e.next=5,localStorage.setItem("accessToken","");case 5:return e.next=7,localStorage.setItem("refreshToken","");case 7:a.data=JSON.stringify(p);case 8:s(a).then((function(e){return t(e)})).catch((function(e){r(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),i=!1,u=[];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){if(responseToast(e),setTimeout((0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.setItem("accessToken","");case 2:return e.next=4,localStorage.setItem("refreshToken","");case 4:case"end":return e.stop()}}),e)}))),2e3),500!==e.response.status)return e})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 11:if(!(t.response&&t.response.data&&t.response.data.location)){e.next=15;break}window.location=t.response.data.location,e.next=19;break;case 15:if(!t.response||401!=t.response.status||904==t.response.data.code){e.next=18;break}e.next=19;break;case 18:return e.abrupt("return",Promise.reject(t));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.Z=s}}]);
//# sourceMappingURL=1938.020d137c.chunk.js.map
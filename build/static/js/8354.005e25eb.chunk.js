"use strict";(self.webpackChunkshopdot=self.webpackChunkshopdot||[]).push([[8354],{5063:function(n,e,r){r.d(e,{F2:function(){return p},y:function(){return d},zl:function(){return f}});var t=r(4165),o=r(5861),a=r(9731),c=r(5548),s=r(3541),i=r(5821),u=r(9085);function d(n){return function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.post(c.H4,n);case 3:(o=e.sent)&&o.data&&200==o.data.code?(r((0,s.SL)()),r((0,i.ps)(o.data.data))):u.Am.error("Something went worng"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors&&e.t0.response.data.errors.length&&e.t0.response.data.errors[0]&&e.t0.response.data.errors[0].password?e.t0.response.data.errors[0].password:e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()}function f(n){return function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.post(c.Nz,n);case 3:(o=e.sent)&&o.data&&201==o.data.code?(r((0,i.ps)(o.data.data)),r((0,s.f6)())):u.Am.error("Something went worng"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()}function p(n){return function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.post(c.Rm,n);case 3:(o=e.sent)&&o.data&&200==o.data.code||u.Am.error("Something went worng"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u.Am.error(e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?e.t0.response.data.errors:"Something went worng");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()}},1097:function(n,e,r){r.d(e,{J:function(){return u}});var t,o,a=r(168),c=r(4313),s=r(1087),i=r(1011),u=(c.ZP.a(t||(t=(0,a.Z)(["\n  color: ",";\n  font-family: 'Mulish', sans-serif;\n  font-size: 16px;\n  text-decoration: none;\n\n  &.sm {\n    font-size: 14px;\n    letter-spacing: -0.02em;\n  }\n\n  &[disabled] {\n    pointer-events: none;\n  }\n\n  &:hover {\n    color: ",";\n  }\n"])),i.J0,i.J0),(0,c.ZP)(s.rU)(o||(o=(0,a.Z)(["\n  color: ",";\n  font-family: 'Mulish', sans-serif;\n  // font-size: 14px;\n  // text-decoration: none;\n  outline: 0;\n  transition: all 0.3s ease;\n  cursor: pointer;\n  text-align: center;\n  border: none;\n  -webkit-font-smoothing: antialiased;\n  box-sizing: border-box;\n  &:hover {\n    color: ",";\n    opacity: 0.8;\n  }\n"])),i.J0,i.J0))},2970:function(n,e,r){var t,o=r(168),a=r(4313),c=r(1011),s=a.ZP.input(t||(t=(0,o.Z)(["\n    // display: flex;\n    // align-items: center;\n    // align-content: center;\n    // z-index: 0;\n    // -webkit-appearance: none;\n    // appearance: none;\n    // width: 100%;\n    // box-sizing: border-box;\n    // font-family: ",";\n    // font-size: ",";\n    // font-weight: 400;\n    // border: 0.1rem solid ",";\n    // border-radius: ",";\n    // padding: ",";\n    // height: ",";\n    // outline: none;\n    // background-color: ",";\n    // transition: all "," ease;\n    // caret-color: ",";\n    //\n    // &::place-holder {\n    //     color: ",";\n    //     opacity: 0.64;\n    // }\n    //\n    // &.invalid {\n    //     border-color: ",";\n    //     background-color: ",";\n    // }\n    //\n    // &:focus {\n    //     border-color: ",";\n    //     background-color: ",";\n    // }\n    //\n    // &:focus:required:invalid {\n    //     border-color: ",";\n    //     background-color: ",";\n    // }\n    //\n    // &:required:valid {\n    //     border-color: var(--orange-tint-10);\n    //     background-color: var(--white);\n    // }\n    //\n    // &.valid {\n    //     border-color: ",";\n    //     background-color: ",";\n    // }\n\n    background: #fffcf9;\n    border: 1px solid #f3e0d2;\n    border-radius: 4px;\n    height: 4rem;\n    padding: 1rem 1.2rem;\n    display: block;\n    width: 100%;\n    margin-top: 0.6rem;\n    appearance: none;\n    box-sizing: border-box;\n    font-family: 'Mulish', sans-serif;\n    outline: none;\n\n    &.invalid {\n        border-color: #eb5757;\n    }\n"])),c.IN,c.dA,c.cb,c.xM,c.nf,c.ZO,c.sE,c.rY,c.J0,c.ZR,c.ow,c.AW,c.ow,c.AW,c.ow,c.AW,c.MG,c.a9);e.Z=s},5548:function(n,e,r){r.d(e,{AM:function(){return g},Di:function(){return _},En:function(){return B},H4:function(){return c},HB:function(){return R},M8:function(){return E},N1:function(){return p},NC:function(){return S},NR:function(){return m},Nv:function(){return i},Nz:function(){return o},OH:function(){return J},PO:function(){return O},Pm:function(){return T},Rm:function(){return a},Wd:function(){return l},Xs:function(){return j},Yv:function(){return q},ZS:function(){return z},Zy:function(){return P},b9:function(){return w},bk:function(){return d},dF:function(){return v},gp:function(){return y},gw:function(){return f},iw:function(){return h},kB:function(){return k},od:function(){return H},oe:function(){return M},oj:function(){return u},p8:function(){return x},qq:function(){return N},ry:function(){return A},uW:function(){return Z},wG:function(){return I},xk:function(){return b},z6:function(){return s}});var t="https://dev.backend.shopdotapp.com/api/v1",o="".concat(t,"/auth/signup/"),a="".concat(t,"/auth/verification/send-mail"),c=("".concat(t,"/auth/verify"),"".concat(t,"/auth/signin")),s="".concat(t,"/auth/refresh-token"),i="".concat(t,"/auth/signout"),u=function(n){return"".concat(t,"/auth/user/").concat(n,"/change-password")},d=function(n){return"".concat(t,"/auth/user/").concat(n,"/reset-password")},f="".concat(t,"/auth/send-reset-link"),p="".concat(t,"/user/roles"),l="".concat(t,"/user/platform"),m=("".concat(t,"/platform/shopify-integration"),"".concat(t,"/auth/upload-image")),h=("".concat(t,"/user/retailer-profile"),"".concat(t,"/platform")),g="".concat(t,"/user/brand-profile"),x=function(n){return"".concat(t,"/user/brand-profile/").concat(n)},v="".concat(t,"/payment/create-brand-as-customer"),b="".concat(t,"/payment/customer/external-account"),w="".concat(t,"/payment/customer"),k="".concat(t,"/user/brand-shipping"),Z="".concat(t,"/platform/shipping-times"),y=function(n){return"".concat(t,"/shopify/sync-all-product?&user_id=").concat(n)},S=("".concat(t,"/shopify/sync-all-product"),"".concat(t,"/shopify/sync-product")),_="".concat(t,"/brand/setting/preferences"),N="".concat(t,"/brand/setting/notifications"),j="".concat(t,"/shopify/shopify-remove"),z=("".concat(t,"/user/retailer-profile"),"".concat(t,"/brand/product/list")),A="".concat(t,"/brand/product/download"),I="".concat(t,"/brand/product/upload"),T="".concat(t,"/brand/product-tags"),q="".concat(t,"/product/status"),P=function(n){return"".concat(t,"/brand/product/category/").concat(n)},J=function(n){return"".concat(t,"/brand/product/").concat(n)},M=function(n){return"".concat(t,"/brand/product/").concat(n)},B="".concat(t,"/platform/category"),R="".concat(t,"/platform/values"),E="".concat(t,"/brand/orders"),H=("".concat(t,"/order/details"),"".concat(t,"/countries")),O=function(n){return"".concat(t,"/countries/").concat(n,"/states")}},8354:function(n,e,r){r.r(e);var t=r(1413),o=r(9439),a=r(2791),c=r(1134),s=r(7689),i=r(1087),u=r(4695),d=r(2797),f=r(1676),p=r(6650),l=r(1097),m=r(8648),h=r(2970),g=(r(2631),r(5063)),x=r(9434),v=r(3541),b=r(1014),w=r(9290),k=r(184),Z=d.Ry().shape({email:d.Z_().email("Must be a valid email.").max(255).required("Email is required."),password:d.Z_().required("Password is required.")}).required();e.default=function(){var n,e,r=(0,a.useState)(!0),d=(0,o.Z)(r,2),y=d[0],S=d[1],_=(0,s.s0)(),N=(0,x.I0)(),j=(0,x.v9)(b.he),z=(0,x.v9)(w.uy),A=(0,c.cI)({resolver:(0,u.X)(Z)}),I=A.register,T=A.handleSubmit,q=(A.reset,A.formState.errors);return(0,a.useEffect)((function(){j&&(z.is_email_verified,z.role.name?"retailer"===z.role.name?_("/retailer-onboarding"):_("/brand-onboarding"):_("/personalize"),N((0,v.Tb)()))}),[j]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.Z,{pageTitle:"Sign In"}),(0,k.jsx)(p.Z,{children:(0,k.jsxs)("form",{onSubmit:T((function(n){N((0,g.y)((0,t.Z)((0,t.Z)({},n),{},{device_id:"123"})))})),className:"sign__form form",children:[(0,k.jsxs)("div",{className:"form__field ",children:[(0,k.jsx)(h.Z,(0,t.Z)((0,t.Z)({className:q.email?"invalid":"",type:"text",name:"email",required:""},I("email",{required:!0})),{},{placeholder:"Email address"})),q.email&&(0,k.jsx)("span",{className:"error-text",children:null===(n=q.email)||void 0===n?void 0:n.message})]}),(0,k.jsxs)("div",{className:"form__field ",children:[(0,k.jsx)(h.Z,(0,t.Z)({className:"password ".concat(q.password?"invalid":""),type:y?"password":"text",name:"password",placeholder:"Enter password"},I("password",{required:!0}))),(0,k.jsx)("span",{className:"password-show ".concat(y?"":"active"),onClick:function(){return S(!y)}}),q.password&&(0,k.jsx)("span",{className:"error-text",children:null===(e=q.password)||void 0===e?void 0:e.message})]}),(0,k.jsx)("div",{className:"form__field",children:(0,k.jsx)("div",{className:"forgot",children:(0,k.jsx)(l.J,{to:"/forgot-password",children:"Forgot Password"})})}),(0,k.jsx)("div",{className:"form__field buttons",children:(0,k.jsx)(m.Z,{type:"submit",className:"button",children:"Sign In"})}),(0,k.jsx)("div",{className:"form__field mb-0 text-center",children:(0,k.jsxs)("small",{children:["Don't have a ShopDot account? Register"," ",(0,k.jsx)(i.rU,{to:"/sign-up",children:"here"})]})})]})})]})}},9731:function(n,e,r){var t=r(4165),o=r(5861),a=r(3263),c=r(5548),s=a.Z;s.interceptors.request.use(function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.headers.Authorization){n.next=7;break}return n.next=3,localStorage.getItem("accessToken");case 3:r=n.sent,s.defaults.headers.common.Authorization=r?"Bearer ".concat(r):"",e.headers.Authorization="Bearer ".concat(r),e.maxRedirects=0;case 7:return n.abrupt("return",e);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),(function(n){Promise.reject(n)})),s.interceptors.response.use(function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e){var r,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.config.url!==c.H4&&e.config.url!==c.Nz){n.next=13;break}return r=e.data.data.access_token?e.data.data.access_token:"",o=e.data.data.refresh_token?e.data.data.refresh_token:"",s.defaults.headers.common.Authorization=r?"Bearer ".concat(r):"",n.prev=4,n.next=7,localStorage.setItem("accessToken",r);case 7:return n.next=9,localStorage.setItem("refreshToken",o);case 9:n.next=13;break;case 11:n.prev=11,n.t0=n.catch(4);case 13:return n.abrupt("return",e);case 14:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}());var i=[],u=!1;s.interceptors.response.use(void 0,function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e){var r,a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.response||!e.response.config||e.response.config.url!==c.z6||401!=e.response.status){n.next=4;break}setTimeout((0,o.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.setItem("accessToken","");case 2:return n.next=4,localStorage.setItem("refreshToken","");case 4:case"end":return n.stop()}}),n)}))),2e3),n.next=19;break;case 4:if(!e.response||401!=e.response.status){n.next=11;break}return r=localStorage.getItem("refreshToken"),a={refresh_token:r},i.push(e.config),n.abrupt("return",new Promise(function(){var n=(0,o.Z)((0,t.Z)().mark((function n(e,r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u||(u=!0,delete s.defaults.headers.common.Authorization,s.post(c.z6,a,{headers:{"content-type":"application/json"}}).then(function(){var n=(0,o.Z)((0,t.Z)().mark((function n(a){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.defaults.headers.common.Authorization="Bearer ".concat(a.data.data.access_token),n.next=3,localStorage.setItem("accessToken",a.data.data.access_token);case 3:return n.next=5,localStorage.setItem("refreshToken",a.data.data.refresh_token);case 5:i.map(function(){var n=(0,o.Z)((0,t.Z)().mark((function n(o,u){var d;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i[u].headers.Authorization="Bearer ".concat(a.data.data.access_token),o.url!=c.Nv){n.next=8;break}return d=JSON.parse(o.data),n.next=5,localStorage.setItem("accessToken","");case 5:return n.next=7,localStorage.setItem("refreshToken","");case 7:o.data=JSON.stringify(d);case 8:s(o).then((function(n){return e(n)})).catch((function(n){r(n)}));case 9:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()),u=!1,i=[];case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){if(setTimeout((0,o.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.setItem("accessToken","");case 2:return n.next=4,localStorage.setItem("refreshToken","");case 4:case"end":return n.stop()}}),n)}))),2e3),500!==n.response.status)return n})));case 1:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}()));case 11:if(!(e.response&&e.response.data&&e.response.data.location)){n.next=15;break}window.location=e.response.data.location,n.next=19;break;case 15:if(!e.response||401!=e.response.status||904==e.response.data.code){n.next=18;break}n.next=19;break;case 18:return n.abrupt("return",Promise.reject(e));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),e.Z=s},2631:function(){}}]);
//# sourceMappingURL=8354.005e25eb.chunk.js.map